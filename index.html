<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>InfoGram - Tech & AI</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* --- [Tech Theme] --- */
        :root {
            --bg-color: #f3f4f6;
            --card-bg: #ffffff;
            --text-main: #111827;
            --text-sub: #6b7280;
            --accent: #8b5cf6; /* Tech Purple */
            --tech-gradient: linear-gradient(135deg, #8b5cf6 0%, #3b82f6 100%);
            --story-gradient: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
            /* í—¤ë” ë†’ì´ ë³€ìˆ˜ (ì¤„ì–´ë“  ë†’ì´ ë°˜ì˜) */
            --header-compact-height: 145px; 
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: 'Outfit', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            padding-bottom: 70px;
            overscroll-behavior-y: none;
        }

        /* --- [Header] --- */
        header {
            position: fixed; top: 0; left: 0; width: 100%; z-index: 2000;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid #e5e7eb;
            display: flex; flex-direction: column;
        }
        .header-top {
            padding: 10px 15px; /* íŒ¨ë”© ì¶•ì†Œ */
            display: flex; justify-content: space-between; align-items: center;
        }
        
        /* ë¡œê³  (ì‚¬ì´ì¦ˆ ì¶•ì†Œ) */
        .logo-area { display: flex; align-items: center; gap: 6px; cursor: pointer; }
        .logo-icon {
            font-size: 1.2rem; /* 1.4 -> 1.2 */
            background: var(--tech-gradient);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        .logo-text { font-size: 1.3rem; /* 1.5 -> 1.3 */ font-weight: 800; letter-spacing: -0.5px; color: #111; }
        .category-badge {
            background: var(--tech-gradient); color: #fff; padding: 2px 6px; 
            border-radius: 4px; font-size: 0.65rem; font-weight: bold; text-transform: uppercase;
        }

        /* ì•¡ì…˜ (ì•„ì´ì½˜ ì¶•ì†Œ) */
        .header-actions { display: flex; align-items: center; gap: 10px; }
        .notification-wrap { position: relative; font-size: 20px; /* 22 -> 20 */ color: #374151; cursor: pointer; }
        .notification-wrap.alert { animation: bellShake 0.5s ease-in-out infinite; color: #ef4444; }
        .red-dot {
            position: absolute; top: 0; right: 0; width: 7px; height: 7px;
            background: #ef4444; border-radius: 50%; border: 1px solid #fff; display: none;
        }
        @keyframes bellShake { 0% { transform: rotate(0); } 25% { transform: rotate(15deg); } 50% { transform: rotate(0); } 75% { transform: rotate(-15deg); } 100% { transform: rotate(0); } }

        .lang-selector {
            border: 1px solid #d1d5db; padding: 4px 8px; border-radius: 6px;
            background: #fff; font-size: 0.75rem; font-weight: 700; color: #374151;
            cursor: pointer; outline: none; transition: 0.2s;
        }
        .lang-selector:hover { border-color: var(--accent); color: var(--accent); }

        /* ìŠ¤í† ë¦¬ ë©”ë‰´ (ì‚¬ì´ì¦ˆ ëŒ€í­ ì¶•ì†Œ) */
        .stories-container {
            background: var(--card-bg); padding: 10px 0; border-bottom: 1px solid #e5e7eb;
            overflow-x: auto; white-space: nowrap; -ms-overflow-style: none; scrollbar-width: none;
        }
        .stories-container::-webkit-scrollbar { display: none; }
        .story-wrapper { display: inline-flex; gap: 14px; padding: 0 15px; }
        
        .story-item { display: flex; flex-direction: column; align-items: center; cursor: pointer; transition: transform 0.1s; }
        .story-item:active { transform: scale(0.95); }
        .story-ring {
            width: 56px; height: 56px; /* 64 -> 56 */
            border-radius: 50%; padding: 2px;
            background: var(--story-gradient); display: flex; align-items: center; justify-content: center;
        }
        .story-ring.news { background: linear-gradient(135deg, #10b981, #059669); } 
        .story-ring.tech { background: linear-gradient(135deg, #3b82f6, #8b5cf6); }
        .story-ring.biz { background: linear-gradient(135deg, #1e3a8a, #d97706); }
        .story-ring.coin { background: linear-gradient(135deg, #f59e0b, #fbbf24); }
        .story-ring.video { background: linear-gradient(135deg, #ef4444, #f97316); }
        
        .story-img {
            width: 50px; height: 50px; /* 58 -> 50 */
            background: #fff; border-radius: 50%; border: 2px solid #fff;
            display: flex; align-items: center; justify-content: center; font-size: 20px; /* 24 -> 20 */
        }
        .story-name { font-size: 10px; margin-top: 4px; font-weight: 600; color: #4b5563; }

        /* ê²€ìƒ‰ì°½ (ì»´íŒ©íŠ¸) */
        .search-area { padding: 5px 15px 10px 15px; }
        .search-input {
            width: 100%; padding: 8px 12px; border-radius: 10px; border: 1px solid #d1d5db;
            background: #f9fafb; font-size: 0.9rem; outline: none; transition: 0.3s;
            background-image: linear-gradient(#f9fafb, #f9fafb), var(--tech-gradient);
            background-origin: border-box; background-clip: padding-box, border-box; border: 2px solid transparent;
        }
        .search-input:focus { background-image: linear-gradient(#fff, #fff), var(--tech-gradient); box-shadow: 0 4px 10px rgba(139, 92, 246, 0.15); }

        /* --- [Player] --- */
        #fixedPlayer {
            position: fixed; 
            top: var(--header-compact-height); /* 145px */
            left: 0; width: 100%; z-index: 1900;
            background: #000; display: none; box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            transition: top 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        #fixedPlayer.sticky-top { top: 0 !important; z-index: 2100; border-bottom: 1px solid #333; }
        .video-container { position: relative; width: 100%; padding-bottom: 56.25%; background: #000; }
        .video-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; }
        .player-controls {
            background: #111; color: #fff; padding: 8px 15px;
            display: flex; justify-content: space-between; align-items: center;
        }
        .close-player-btn { background: none; border: none; color: #fff; font-size: 1.2rem; cursor: pointer; }

        /* --- [AI Result] --- */
        .ai-result-box {
            max-width: 600px; margin: 155px auto 20px; /* í—¤ë”ë³´ë‹¤ ì¡°ê¸ˆ ë” ì•„ë˜ */
            padding: 0; background: #fff; border-radius: 16px; border: 1px solid #e5e7eb;
            display: none; overflow: hidden; box-shadow: 0 10px 25px rgba(139, 92, 246, 0.1);
        }
        .ai-header-area { 
            padding: 12px 15px; background: linear-gradient(to right, #f3f4f6, #fff); 
            display: flex; align-items: center; gap: 10px; border-bottom: 1px solid #f3f4f6; 
        }
        .ai-loader { width: 18px; height: 18px; border: 2px solid #eee; border-top: 2px solid var(--accent); border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .ai-image-gen img { width: 100%; height: 180px; object-fit: cover; display: none; }
        .ai-body { padding: 15px; font-size: 0.9rem; line-height: 1.6; color: #374151; }

        /* --- [Feed] --- */
        .feed-container { 
            max-width: 600px; margin: 155px auto 0; /* í—¤ë” ë†’ì´ ë°˜ì˜ */
            padding: 0 10px; min-height: 100vh; transition: margin-top 0.3s ease; 
        }
        .card {
            background: var(--card-bg); border: 1px solid #e5e7eb; border-radius: 12px;
            margin-bottom: 15px; cursor: pointer; overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.02); transition: 0.2s;
        }
        .card:hover { transform: translateY(-2px); box-shadow: 0 10px 15px rgba(0,0,0,0.05); }
        
        .card-header { padding: 10px 15px; display: flex; align-items: center; gap: 10px; border-bottom: 1px solid #f9fafb; }
        .source-icon { width: 30px; height: 30px; border-radius: 8px; object-fit: cover; }
        .source-name { font-weight: 700; font-size: 13px; color: #1f2937; }
        .card-media { width: 100%; aspect-ratio: 16/9; background: #111; position: relative; }
        .card-media img { width: 100%; height: 100%; object-fit: cover; opacity: 0.9; }
        .card-body { padding: 12px 15px; }
        .card-title { font-weight: 800; font-size: 15px; margin-bottom: 6px; line-height: 1.4; color: #111; }
        .card-desc { font-size: 13px; color: #6b7280; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; line-height: 1.5; }

        /* í˜ì´ì§€ë„¤ì´ì…˜ */
        .pagination-container { display: flex; justify-content: center; gap: 8px; margin: 20px 0 80px 0; }
        .page-btn {
            width: 36px; height: 36px; border-radius: 8px; background: #fff; border: 1px solid #e5e7eb;
            display: flex; align-items: center; justify-content: center; font-weight: 700; cursor: pointer; font-size: 0.9rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .page-btn.active { background: var(--accent); color: #fff; border-color: var(--accent); }

        /* í•˜ë‹¨ íƒ­ (ì»´íŒ©íŠ¸) */
        .bottom-nav {
            position: fixed; bottom: 0; width: 100%; height: 55px; /* ë†’ì´ ì¶•ì†Œ */
            background: rgba(255,255,255,0.95); border-top: 1px solid #e5e7eb;
            backdrop-filter: blur(10px); display: flex; justify-content: space-around; align-items: center; z-index: 1000;
        }
        .nav-item { font-size: 20px; color: #9ca3af; cursor: pointer; }
        .nav-item.active { color: var(--accent); }
    </style>
</head>
<body>

    <header id="mainHeader">
        <div class="header-top">
            <div class="logo-area" onclick="location.reload()">
                <i class="fas fa-microchip logo-icon"></i>
                <span class="logo-text">InfoGram</span>
                <span class="category-badge">Tech</span>
            </div>
            
            <div class="header-actions">
                <div class="notification-wrap" id="bellIcon" onclick="updateData()">
                    <i class="far fa-bell"></i>
                    <div class="red-dot" id="notiDot"></div>
                </div>
                <select class="lang-selector" id="langSelect" onchange="changeLanguage()">
                    <option value="ko">KR</option>
                    <option value="en">EN</option>
                    <option value="jp">JP</option>
                    <option value="zh">CN</option>
                </select>
            </div>
        </div>
        
        <div class="stories-container">
            <div class="story-wrapper">
                <div class="story-item" onclick="location.href='https://minetia.github.io/News/'">
                    <div class="story-ring news"><div class="story-img">ğŸ“°</div></div>
                    <div class="story-name">News</div>
                </div>
                
                <div class="story-item" onclick="location.reload()">
                    <div class="story-ring tech"><div class="story-img">ğŸ’»</div></div>
                    <div class="story-name">Tech</div>
                </div>
                <div class="story-item" onclick="location.href='https://minetia.github.io/business/'">
                    <div class="story-ring biz"><div class="story-img">ğŸ’°</div></div>
                    <div class="story-name">Business</div>
                </div>
                <div class="story-item" onclick="location.href='https://minetia.github.io/coin/'">
                    <div class="story-ring coin"><div class="story-img">ğŸª™</div></div>
                    <div class="story-name">Crypto</div>
                </div>
                <div class="story-item" onclick="location.href='https://minetia.github.io/video/'">
                    <div class="story-ring video"><div class="story-img">ğŸ¬</div></div>
                    <div class="story-name">Video</div>
                </div>
            </div>
        </div>

        <div class="search-area">
            <input type="text" class="search-input" id="searchInput" placeholder="Search Tech, AI, Gadgets..." onkeyup="handleSearch(event)">
        </div>
    </header>

    <div id="fixedPlayer">
        <div class="video-container" id="playerFrameArea"></div>
        <div class="player-controls">
            <span style="font-size:12px; font-weight:700; color:#fff;" id="nowPlayingText">NOW PLAYING</span>
            <button class="close-player-btn" onclick="closePlayer()"><i class="fas fa-times"></i></button>
        </div>
    </div>

    <div id="aiResult" class="ai-result-box">
        <div class="ai-header-area">
            <div class="ai-loader" id="aiLoader"></div>
            <span style="font-weight:700; color:#1a1a1a; font-size: 0.9rem;" id="aiTitle">AI Computing...</span>
        </div>
        <div class="ai-image-gen" id="aiImageArea">
            <img id="aiGeneratedImg" src="" alt="AI Gen">
        </div>
        <div class="ai-body" id="aiContent"></div>
    </div>

    <div class="feed-container" id="feedContainer"></div>
    <div class="pagination-container" id="paginationContainer"></div>

    <div class="bottom-nav">
        <div class="nav-item" onclick="location.href='https://minetia.github.io/'"><i class="fas fa-home"></i></div>
        <div class="nav-item active"><i class="fas fa-robot"></i></div>
        <div class="nav-item"><i class="far fa-plus-square"></i></div>
        <div class="nav-item" onclick="location.href='https://minetia.github.io/video/'"><i class="fas fa-video"></i></div>
    </div>

    <script>
        const YOUTUBE_API_KEY = 'AIzaSyBlKZbCP6qZiv3NLBmgh4iled9Y4BmCUM8'; 
        const API_URL = 'https://www.googleapis.com/youtube/v3/search';
        
        const TOTAL_ITEMS = 40;
        const ITEMS_PER_PAGE = 10;
        let allData = [];
        let currentPage = 1;
        let currentLang = 'ko'; 

        // --- 1. ê²€ìƒ‰ ë° AI ---
        async function handleSearch(e) {
            if (e.key === 'Enter') {
                const query = document.getElementById('searchInput').value;
                if (!query) return;
                
                closePlayer();
                document.getElementById('feedContainer').style.marginTop = '20px';
                
                resetAI(query);
                generateAI(query);
                await searchYouTubeReal(query);
            }
        }

        function resetAI(query) {
            const box = document.getElementById('aiResult');
            box.style.display = 'block';
            document.getElementById('aiLoader').style.display = 'block';
            document.getElementById('aiImageArea').querySelector('img').style.display = 'none';
            document.getElementById('aiTitle').innerText = `System Analyzing '${query}'...`;
            document.getElementById('aiContent').innerText = '';
            document.getElementById('paginationContainer').innerHTML = '';
        }

        function generateAI(query) {
            const imgTag = document.getElementById('aiGeneratedImg');
            imgTag.src = `https://image.pollinations.ai/prompt/${encodeURIComponent(query + " futuristic cyberpunk tech 8k")}`;
            imgTag.onload = () => { imgTag.style.display = 'block'; };

            setTimeout(() => {
                document.getElementById('aiLoader').style.display = 'none';
                document.getElementById('aiTitle').innerText = `AI Tech Report: ${query}`;
                
                let text = "";
                if (currentLang === 'ko') text = `<strong>ğŸ¤– í…Œí¬ ë¶„ì„</strong><br>"${query}" ê´€ë ¨ ìµœì‹  ê¸°ìˆ  ë™í–¥ì´ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤. AI, ë°˜ë„ì²´, ë¯¸ë˜ ê¸°ìˆ  ë¶„ì•¼ì—ì„œ í˜ì‹ ì ì¸ ë³€í™”ê°€ ì¼ì–´ë‚˜ê³  ìˆìŠµë‹ˆë‹¤.`;
                else if (currentLang === 'en') text = `<strong>ğŸ¤– Tech Analysis</strong><br>Latest trends detected for "${query}". Disruptive innovations in AI, semiconductors, and future tech are emerging.`;
                else if (currentLang === 'jp') text = `<strong>ğŸ¤– æŠ€è¡“åˆ†æ</strong><br>"${query}" ã«é–¢ã™ã‚‹æœ€æ–°ã®æŠ€è¡“å‹•å‘ãŒæ„ŸçŸ¥ã•ã‚Œã¾ã—ãŸã€‚AIã€åŠå°ä½“ã€æœªæ¥æŠ€è¡“åˆ†é‡ã§é©æ–°çš„ãªå¤‰åŒ–ãŒèµ·ãã¦ã„ã¾ã™ã€‚`;
                else if (currentLang === 'zh') text = `<strong>ğŸ¤– ç§‘æŠ€åˆ†æ</strong><br>æ£€æµ‹åˆ°å…³äº "${query}" çš„æœ€æ–°æŠ€æœ¯è¶‹åŠ¿ã€‚äººå·¥æ™ºèƒ½ã€åŠå¯¼ä½“å’Œæœªæ¥æŠ€æœ¯é¢†åŸŸæ­£åœ¨å‘ç”Ÿé¢ è¦†æ€§å˜åŒ–ã€‚`;
                
                document.getElementById('aiContent').innerHTML = text;
            }, 1500);
        }

        async function searchYouTubeReal(query) {
            try {
                const url = `${API_URL}?part=snippet&maxResults=10&q=${encodeURIComponent(query)}&type=video&key=${YOUTUBE_API_KEY}`;
                const response = await fetch(url);
                const data = await response.json();
                if (data.error) throw new Error(data.error.message);
                renderFeed(data.items, true); 
            } catch (error) {
                console.warn("API Error:", error);
                renderMockData(query);
            }
        }

        // --- 2. ê°€ìƒ ë°ì´í„° (ì–¸ì–´ë³„ í…Œí¬ ì£¼ì œ) ---
        function generateVirtualData() {
            const topics = {
                ko: ['ì¸ê³µì§€ëŠ¥ í˜ëª…', 'ì–‘ì ì»´í“¨í„°', 'ìŠ¤ë§ˆíŠ¸í° ìœ ì¶œ', 'ì „ê¸°ì°¨ ë°°í„°ë¦¬', 'ìš°ì£¼ ë¡œì¼“', 'ì‚¬ì´ë²„ ë³´ì•ˆ'],
                en: ['AI Revolution', 'Quantum Computing', 'Smartphone Leaks', 'EV Batteries', 'Space Rockets', 'Cyber Security'],
                jp: ['äººå·¥çŸ¥èƒ½é©å‘½', 'é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿', 'ã‚¹ãƒãƒ›ãƒªãƒ¼ã‚¯', 'EVãƒãƒƒãƒ†ãƒªãƒ¼', 'å®‡å®™ãƒ­ã‚±ãƒƒãƒˆ', 'ã‚µã‚¤ãƒãƒ¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£'],
                zh: ['äººå·¥æ™ºèƒ½é©å‘½', 'é‡å­è®¡ç®—', 'æ™ºèƒ½æ‰‹æœºæ³„éœ²', 'ç”µåŠ¨è½¦ç”µæ± ', 'å¤ªç©ºç«ç®­', 'ç½‘ç»œå®‰å…¨']
            };
            const channels = ['TechCrunch', 'The Verge', 'MKBHD', 'Linus Tech Tips', 'CNET', 'Engadget'];
            
            const generated = [];
            for (let i = 1; i <= TOTAL_ITEMS; i++) {
                const langKey = currentLang;
                const topic = topics[langKey][Math.floor(Math.random() * topics[langKey].length)];
                const channel = channels[Math.floor(Math.random() * channels.length)];
                
                generated.push({
                    videoId: 'HK6y8DAPN_0',
                    snippet: {
                        title: currentLang === 'ko' ? `[í…Œí¬ ë¦¬ë·°] ${topic} : ë¯¸ë˜ë¥¼ ë°”ê¾¸ëŠ” ê¸°ìˆ  #${i}` :
                               currentLang === 'zh' ? `[ç§‘æŠ€è¯„è®º] ${topic} : æ”¹å˜æœªæ¥çš„æŠ€æœ¯ #${i}` :
                               `[Tech Review] ${topic} : Future Tech #${i}`,
                        description: `API quota saving mode. Displaying virtual tech data.`,
                        thumbnails: { medium: { url: `https://picsum.photos/600/400?random=${i + 100}` } },
                        channelTitle: channel,
                        publishedAt: new Date().toISOString()
                    }
                });
            }
            return generated;
        }

        function initData() {
            allData = generateVirtualData();
            renderPage(1);
            showNotification();
        }

        function changeLanguage() {
            currentLang = document.getElementById('langSelect').value;
            const searchInput = document.getElementById('searchInput');
            
            if (currentLang === 'ko') searchInput.placeholder = "í…Œí¬, AI, ê°€ì ¯ ê²€ìƒ‰...";
            else if (currentLang === 'jp') searchInput.placeholder = "ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼, AI æ¤œç´¢...";
            else if (currentLang === 'zh') searchInput.placeholder = "æœç´¢ ç§‘æŠ€, äººå·¥æ™ºèƒ½...";
            else searchInput.placeholder = "Search Tech, AI...";

            updateData();
        }

        function updateData() {
            document.getElementById('bellIcon').classList.remove('alert');
            document.getElementById('notiDot').style.display = 'none';
            document.getElementById('feedContainer').innerHTML = `<div style="text-align:center; padding:50px;"><i class="fas fa-circle-notch fa-spin"></i> System Updating...</div>`;
            setTimeout(() => {
                allData = generateVirtualData();
                renderPage(1);
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }, 600);
        }

        function showNotification() {
            document.getElementById('bellIcon').classList.add('alert');
            document.getElementById('notiDot').style.display = 'block';
        }

        // --- 3. ë Œë”ë§ & í˜ì´ì§€ë„¤ì´ì…˜ ---
        function renderPage(page) {
            currentPage = page;
            const start = (page - 1) * ITEMS_PER_PAGE;
            const end = start + ITEMS_PER_PAGE;
            const itemsToShow = allData.slice(start, end);
            renderFeed(itemsToShow, false);
            renderPaginationBtns();
        }

        function renderPaginationBtns() {
            const container = document.getElementById('paginationContainer');
            container.innerHTML = '';
            const totalPages = Math.ceil(allData.length / ITEMS_PER_PAGE);
            for (let i = 1; i <= totalPages; i++) {
                const btn = document.createElement('div');
                btn.className = `page-btn ${i === currentPage ? 'active' : ''}`;
                btn.innerText = i;
                btn.onclick = () => { renderPage(i); window.scrollTo({ top: 0, behavior: 'smooth' }); };
                container.appendChild(btn);
            }
        }

        function renderFeed(items, isRealApi = false) {
            const container = document.getElementById('feedContainer');
            container.innerHTML = ''; 
            items.forEach(item => {
                const videoId = isRealApi ? item.id.videoId : item.videoId;
                const snippet = isRealApi ? item.snippet : item.snippet;
                const card = document.createElement('div');
                card.className = 'card';
                card.setAttribute('onclick', `playVideo('${videoId}')`);
                card.innerHTML = `
                    <div class="card-header">
                        <img src="https://ui-avatars.com/api/?name=${snippet.channelTitle.substring(0,2)}&background=8b5cf6&color=fff" class="source-icon">
                        <div class="source-name">${snippet.channelTitle}</div>
                    </div>
                    <div class="card-media">
                        <img src="${snippet.thumbnails.medium.url}" alt="Thumbnail">
                        <i class="fas fa-play-circle" style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:50px; color:rgba(255,255,255,0.9);"></i>
                    </div>
                    <div class="card-body">
                        <div class="card-title">${snippet.title}</div>
                        <div class="card-desc">${snippet.description}</div>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function renderMockData(query) {
            allData = generateVirtualData();
            renderPage(1);
        }

        // --- 4. í”Œë ˆì´ì–´ & ìŠ¤í¬ë¡¤ ---
        function playVideo(videoId) {
            const player = document.getElementById('fixedPlayer');
            const frame = document.getElementById('playerFrameArea');
            const feed = document.getElementById('feedContainer');
            const aiBox = document.getElementById('aiResult');
            player.style.display = 'block';
            player.classList.remove('sticky-top');
            frame.innerHTML = `<iframe src="https://www.youtube.com/embed/${videoId}?autoplay=1&mute=1&playsinline=1" allow="autoplay; encrypted-media" allowfullscreen></iframe>`;
            // Compact Header Height ì ìš© (145px)
            const offset = 145 + player.offsetHeight + 20;
            feed.style.marginTop = `${offset}px`;
            if(aiBox.style.display === 'block') aiBox.style.marginTop = `${offset}px`;
            player.style.top = `145px`; 
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function closePlayer() {
            const player = document.getElementById('fixedPlayer');
            document.getElementById('playerFrameArea').innerHTML = '';
            player.style.display = 'none';
            player.classList.remove('sticky-top');
            document.getElementById('feedContainer').style.marginTop = '145px';
            document.getElementById('aiResult').style.marginTop = '145px';
        }

        window.addEventListener('scroll', () => {
            const player = document.getElementById('fixedPlayer');
            if(player.style.display !== 'block') return;
            if (window.scrollY > 100) player.classList.add('sticky-top');
            else if (window.scrollY < 10) player.classList.remove('sticky-top');
        });

        // 12ì‹œê°„ ìë™ ì—…ë°ì´íŠ¸
        const TWELVE_HOURS = 12 * 60 * 60 * 1000;
        setInterval(() => { initData(); }, TWELVE_HOURS);

        initData();
    </script>
</body>
</html>
